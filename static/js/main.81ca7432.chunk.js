(this["webpackJsonpstocking-app"]=this["webpackJsonpstocking-app"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(5),s=a.n(c),r=(a(12),a(3)),l=Object(n.createContext)();var m=function(e){var t=Object(n.useState)({name:"Stocking",symbol:"STOCKING",updated:0,open:0,high:0,low:0,close:0,volume:0,change:0}),a=Object(r.a)(t,2),c=a[0],s=a[1];return o.a.createElement(l.Provider,{value:{stockData:c,setStockData:s}},e.children)};var u=function(){var e=Object(n.useContext)(l),t=(e.stockData,e.setStockData);return o.a.createElement("div",{id:"search"},o.a.createElement("input",{id:"searchbar",placeholder:"search a ticker",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),function(e){var a,n="https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+e+"&apikey=99B0OWHKU6GXNX6A";fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords="+e+"&apikey=99B0OWHKU6GXNX6A").then((function(e){return e.json()})).then((function(e){return a=e.bestMatches[0]["2. name"],fetch(n)})).then((function(e){return e.json()})).then((function(n){console.log(n);var o=n["Time Series (Daily)"],c=o[Object.keys(o)[0]],s=n["Meta Data"]["3. Last Refreshed"],r=Number(Number(c["1. open"]).toFixed(2)),l=Number(Number(c["4. close"]).toFixed(2)),m=Number(Number(c["2. high"]).toFixed(2)),u=Number(Number(c["3. low"]).toFixed(2)),i=Number(c["5. volume"]);t({name:a,symbol:e.toUpperCase(),updated:s,open:r,high:m,low:u,close:l,change:Number(Number((Number(l)-Number(r))/Number(r)*100).toFixed(2)),volume:i})})).catch((function(e){console.log("Encountered an error:",e)}))}(document.getElementById("searchbar").value),document.getElementById("searchbar").value="")}}))};var i=function(){return o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"hero"},"Stocking \u303d\ufe0f\ud83d\udc40"),o.a.createElement(u,null))};var d=function(){var e=Object(n.useContext)(l).stockData;return Object(n.useEffect)((function(){"STOCKING"===e.symbol?document.getElementById("stockInfo").style.display="none":document.getElementById("stockInfo").style.display="block",e.change>=0?(document.getElementById("stockInfo").className="green-stockInfo",document.getElementById("stockInfoTop").className="green-stockInfoTop"):(document.getElementById("stockInfo").className="red-stockInfo",document.getElementById("stockInfoTop").className="red-stockInfoTop")}),[e]),o.a.createElement("div",{id:"stockInfo"},o.a.createElement("div",{id:"stockInfoTop"},o.a.createElement("div",{id:"stockInfoName",className:"stockInfoTop-left"},e.name),o.a.createElement("div",{className:"stockInfoTop-left"},e.symbol),o.a.createElement("div",{className:"stockInfoTop-right"},"$",e.close.toLocaleString()),o.a.createElement("div",{className:"stockInfoTop-right"},e.change,"%")),o.a.createElement("div",{id:"stockDataBank"},[["volume","Volume"],["open","Open"],["high","High"],["low","Low"],["updated","Updated"]].map((function(t){return o.a.createElement("div",{className:"stockDatum"},o.a.createElement("p",{className:"datumLabel"},t[1],":"),o.a.createElement("p",{className:"datumValue"},["Open","High","Low"].includes(t[1])?"$"+e[t[0]].toLocaleString():e[t[0]].toLocaleString()))}))))},h=a(6);var k=function(e){var t=Object(n.useContext)(l).setStockData,a="stockCard "+e.theme+"-stockCard";return o.a.createElement("div",{className:a,onClick:function(){t({name:e.stock.name,symbol:e.stock.symbol,updated:e.stock.updated,open:e.stock.open,high:e.stock.high,low:e.stock.low,close:e.stock.close,change:e.stock.change,volume:e.stock.volume})}},o.a.createElement("p",{className:"stockCard-name"},e.stock.name),o.a.createElement("h3",{className:"stockCard-symbol"},e.stock.symbol),o.a.createElement("h3",{className:"stockCard-change"},e.stock.change,"%"))};var p=function(){var e=Object(n.useContext)(l).stockData,t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){c.find((function(t){return t.symbol===e.symbol}))||"STOCKING"===e.symbol||s([{name:e.name,symbol:e.symbol,updated:e.updated,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume,change:e.change}].concat(Object(h.a)(c)))}),[e]),o.a.createElement("div",{className:"watchlist"},o.a.createElement("h2",{className:"prompt"},"Recently Searched Stocks:"),o.a.createElement("div",{className:"stocks"},c.map((function(e){var t=e.change>=0?"green":"red";return o.a.createElement(k,{stock:e,theme:t})}))))};a(13);var f=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(m,null,o.a.createElement(i,null),o.a.createElement(d,null),o.a.createElement(p,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.81ca7432.chunk.js.map