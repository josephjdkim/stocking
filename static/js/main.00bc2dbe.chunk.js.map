{"version":3,"sources":["contexts/StockDataContext.js","components/SearchBar.js","components/StockingHeader.js","components/StockInfo.js","components/StockCard.js","components/Watchlist.js","App.js","serviceWorker.js","index.js"],"names":["StockDataContext","createContext","StockDataContextProvider","props","useState","name","symbol","updated","open","high","low","close","volume","change","stockData","setStockData","Provider","value","children","SearchBar","useContext","id","placeholder","onKeyDown","e","key","preventDefault","companyName","stockQuery","fetch","then","companyResponse","json","companyJSON","bestMatches","response","jsonResponse","console","log","ts","data","Object","keys","Number","toFixed","toLocaleString","toUpperCase","catch","err","handleSearch","document","getElementById","StockingHeader","className","StockInfo","useEffect","style","display","map","pair","includes","toString","StockCard","theme","onClick","stock","Watchlist","watchlist","setWatchlist","find","s","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.00bc2dbe.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\n\nexport const StockDataContext = createContext();\n\nfunction StockDataContextProvider(props) {\n  const [stockData, setStockData] = useState({\n    name: 'Stocking',\n    symbol: 'STOCKING',\n    updated: 0,\n    open: 0,\n    high: 0,\n    low: 0,\n    close: 0,\n    volume: 0,\n    change: 0\n  });\n  return (\n    <StockDataContext.Provider value={{stockData, setStockData}}>\n      {props.children}\n    </StockDataContext.Provider>\n  );\n}\n\nexport default StockDataContextProvider;","import React, { Component, useContext } from 'react';\nimport config from '../config.js';\nimport { StockDataContext } from '../contexts/StockDataContext'\n\nfunction SearchBar() {\n  const { stockData, setStockData } = useContext(StockDataContext);\n  const COMPANY_API = 'https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=';\n  const STOCK_API = 'https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=';\n\n  function handleSearch(symbol) {\n    // let stockQuery = STOCK_API + symbol + '&apikey=' + config.apiKey;\n    // let companyQuery = COMPANY_API + symbol + '&apikey=' + config.apiKey;\n\n    // temporary public-facing api key for GitHub Pages demo\n    let stockQuery = STOCK_API + symbol + '&apikey=99B0OWHKU6GXNX6A';\n    let companyQuery = COMPANY_API + symbol + '&apikey=99B0OWHKU6GXNX6A';\n\n    let companyName;\n\n    fetch(companyQuery)\n      .then((companyResponse) => { return companyResponse.json(); })\n      .then((companyJSON) => {\n        companyName = companyJSON.bestMatches[0][\"2. name\"];\n        return fetch(stockQuery);\n      })\n      .then((response) => { return response.json(); })\n      .then((jsonResponse) => {\n        console.log(jsonResponse)\n        let ts = jsonResponse[\"Time Series (Daily)\"];\n        let data = ts[Object.keys(ts)[0]];\n        let updated = jsonResponse[\"Meta Data\"][\"3. Last Refreshed\"];\n\n        let open = Number(Number(data['1. open']).toFixed(2)).toLocaleString();\n        let close = Number(Number(data['4. close']).toFixed(2)).toLocaleString();\n\n        setStockData({\n          name: companyName,\n          symbol: symbol.toUpperCase(),\n          updated: updated,\n          open:  open,\n          high: Number(Number(data['2. high']).toFixed(2)).toLocaleString(),\n          low:  Number(Number(data['3. low']).toFixed(2)).toLocaleString(),\n          close: close,\n          change: Number(Number((((close - open) / open) * 100)).toFixed(2)).toLocaleString(),\n          volume: data['5. volume'].toLocaleString()\n        });\n      })\n      .catch(err => {\n        console.log('Encountered an error:', err)\n      });\n    };\n  \n  function handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      let symbol = document.getElementById('searchbar').value;\n      handleSearch(symbol);\n      document.getElementById('searchbar').value = '';\n    };\n  };\n\n  return (\n    <div id=\"search\">\n      <input id=\"searchbar\" placeholder=\"search a ticker\" onKeyDown={handleKeyDown} />\n    </div>\n  );\n}\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport SearchBar from './SearchBar.js'\n\nfunction StockingHeader() {\n  return (\n    <header className=\"header\">\n      <h1 className=\"hero\">Stocking „ÄΩÔ∏èüëÄ</h1>\n      <SearchBar />\n    </header>\n  );\n}\n\nexport default StockingHeader;","import React, { Component, useContext, useEffect } from 'react';\nimport { StockDataContext } from '../contexts/StockDataContext'\n\nfunction StockInfo() {\n  const {stockData} = useContext(StockDataContext);\n  const datumKeys = [['volume', 'Volume'], ['open', 'Open'], ['high', 'High'], ['low', 'Low'], ['updated', 'Updated']];\n\n  useEffect(() => {\n    handleDefault();\n    setTheme();\n    \n  }, [stockData]);\n\n  function handleDefault() {\n    if (stockData['symbol'] === 'STOCKING') {\n      document.getElementById('stockInfo').style.display = 'none';\n    } else {\n      document.getElementById('stockInfo').style.display = 'block'\n    };\n  }\n\n  function setTheme() {\n    if (stockData['change'] >= 0) {\n      document.getElementById('stockInfo').className = 'green-stockInfo';\n      document.getElementById('stockInfoTop').className = 'green-stockInfoTop';\n    } else {\n      document.getElementById('stockInfo').className = 'red-stockInfo';\n      document.getElementById('stockInfoTop').className = 'red-stockInfoTop';\n    }\n  }\n\n  return (\n    <div id=\"stockInfo\">\n      <div id=\"stockInfoTop\">\n        <div id=\"stockInfoName\" className=\"stockInfoTop-left\">{stockData.name}</div>\n        <div className=\"stockInfoTop-left\">{stockData.symbol}</div>\n        <div className=\"stockInfoTop-right\">${stockData.close}</div>\n        <div className=\"stockInfoTop-right\">{stockData.change}%</div>\n      </div>\n      <div id=\"stockDataBank\">\n      {datumKeys.map(pair => {\n        return (\n          <div className=\"stockDatum\">\n            <p className=\"datumLabel\">{pair[1]}:</p>\n            <p className=\"datumValue\">{\n              (['Open', 'High', 'Low'].includes(pair[1])\n                ? '$'+stockData[pair[0]].toString()\n                : stockData[pair[0]])\n            }</p>\n          </div>\n        )\n      })}\n      </div>\n    </div>\n  );\n}\n\nexport default StockInfo;","import React, { Component, useContext } from 'react';\nimport { StockDataContext } from '../contexts/StockDataContext'\n\nfunction StockCard(props) {\n  const { setStockData } = useContext(StockDataContext);\n  const className = \"stockCard \" + props.theme + \"-stockCard\";\n  // let displayName = props.stock.name;\n\n  // if (displayName.length >= 20) { displayName = displayName.slice(0, 18) + '...'; }\n  \n  function updateStockData() {\n    setStockData({\n      name: props.stock.name,\n      symbol: props.stock.symbol,\n      updated: props.stock.updated,\n      open:  props.stock.open,\n      high: props.stock.high,\n      low:  props.stock.low,\n      close: props.stock.close,\n      change: props.stock.change,\n      volume: props.stock.volume\n    });\n  };\n\n  return (\n    <div className={className} onClick={updateStockData}>\n      <p className=\"stockCard-name\">{props.stock.name}</p>\n      <h3 className=\"stockCard-symbol\">{props.stock.symbol}</h3>\n      <h3 className=\"stockCard-change\">{props.stock.change}%</h3>\n    </div>\n  );\n}\n\nexport default StockCard;","import React, { Component, useState, useContext, useEffect } from 'react';\nimport StockCard from './StockCard.js'\nimport { StockDataContext } from '../contexts/StockDataContext'\n\nfunction Watchlist() {\n  const { stockData } = useContext(StockDataContext);\n  const [watchlist, setWatchlist] = useState([]);\n\n  useEffect(() => {\n    checkNewStock();\n  }, [stockData]);\n  \n  function checkNewStock() {\n    const isDuplicate = watchlist.find(s => (s.symbol === stockData.symbol))\n    if ((!isDuplicate && !(stockData.symbol === 'STOCKING'))) {\n      setWatchlist([{\n        name: stockData.name,\n        symbol: stockData.symbol,\n        updated: stockData.updated,\n        open: stockData.open,\n        high: stockData.high,\n        low: stockData.low,\n        close: stockData.close,\n        volume: stockData.volume,\n        change: stockData.change\n      }, ...watchlist]);\n    };\n  };\n  \n  function setStockTheme(s) {\n    return (s.change >= 0) ? 'green' : 'red';\n  }\n\n  return (\n    <div className=\"watchlist\">\n      <h2 className=\"prompt\">Recently Searched Stocks:</h2>\n      <div className=\"stocks\">\n        {watchlist.map(stock => {\n          let theme = setStockTheme(stock);\n          return(\n            <StockCard stock={stock} theme={theme}/>\n            )\n          })}\n      </div>\n    </div>\n  );\n}\n\nexport default Watchlist;","import React from 'react';\nimport StockingHeader from './components/StockingHeader.js'\nimport StockInfo from './components/StockInfo.js'\nimport Watchlist from './components/Watchlist.js'\nimport './App.css';\nimport StockDataContextProvider from './contexts/StockDataContext.js';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <StockDataContextProvider>\n        <StockingHeader />\n        <StockInfo />\n        <Watchlist />\n      </StockDataContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}